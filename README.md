# O-Pen

## Mission statement
For several years, the only method for realistic penetration in VRChat is using the Dynamic Penetration System (DPS), a shader that causes penetrator meshes to deform to an orifice as an invisible light on the avatar being penetrated. It has worked great, but there have always been major limitations to DPS, including, but not limited to
* Shaders: If you want to use a custom shader, your penetrator may look out of place since it has to either use the DPS shader itself, or one of the few supported 3rd-party shaders (Poiyomi, XSToon, etc) -- similar limitation exists with the DPS-compatible Thry Penetration System (TPS) built into versions 8.0 and above of Poiyomi's shaders. This type of scenario is known in the IT world as "vendor lock-in" and can be challenging especially for content creators who might want to utilize special features these shaders don't offer at this time.
* Performance Ratings: Due to the nature of DPS and TPS, having several "lights" on your avatar will immediately drag your avatar's performance to "very poor".
* Physbones: DPS-deformed meshes do not work properly with physbones
* Cross-Platform: DPS and TPS have never been compatible with the Oculus Quest (Android) version of VRChat, due to the strict avatar performance requirements, as well as mesh quantity limits, and more importantly - prohibition of 3rd party shaders.

Since the original release of DPS, there have been significant improvements within VRChat including interactive avatar bones (physbones), avatar dynamics, and Open Sound Control integration. This project aims to utilize these new features to create a complete replacement for DPS.

## Concept
In lieu of a mesh-deforming shader, the penetrators and orifices are animated with BlendShapes (also known as ShapeKeys) and/or Physbones. There would be a required companion program that connects to your VRChat client over OSC (which is an officially supported integration, TOS and EAC-compliant and not a "mod" to the client). The companion program would provide backend communication and logic between the players (accommodating for networking constraints on VRChat's end). Contact receivers and senders on each avatar will determine the penetrator(s) proximity to the orifice, and will send that data to the companion app over OSC, which process the logic and adjusts the orifice and penetrator blendshapes/bones accordingly.

## Design
I'm still trying to determine what language I want to program this in. My first gut instinct is Python, since that is what I have the most familiarity with. However, I do realize the weaknesses of Python and am willing to explore other languages, like Go, NodeJS, C++, or C# for this project. I'm also not sure how I would implement the networking between user's companion apps, whether it be fully P2P (everyone would have to manually peer themselves without any external support, which would involve port forwarding, etc), or whether there is a cloud service that routes the live information between each app instance, or simply using the cloud service for facilitating the peer-to-peer connections.